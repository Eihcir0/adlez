{"version":3,"sources":["webpack:///webpack/bootstrap b2e1a72697015a590a66","webpack:///./js/game.js","webpack:///./js/hero.js","webpack:///./js/moveable.js","webpack:///./js/handle_input.js","webpack:///./js/monster.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;ACrCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;AAIA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,sBAAqB,qDAAqD;AAC1E,4BAA2B;AAC3B,uCAAsC;;AAEtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;;;;;AAKA;AACA;AACA;AACA;;;;;;;ACvHA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,sBAAqB,qCAAqC;AAC1D;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,oBAAmB;AACnB;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;;AAEA,0CAAyC;AACzC;AACA,MAAK;AACL;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAC;;AAED;;;;;;;ACjJA;;AAEA;AACA;AACA,wBAAuB;;;AAGvB,uBAAsB;AACtB;AACA;;AAEA,uBAAsB;AACtB;AACA;;AAEA,uBAAsB;AACtB;;AAEA;;AAEA,uBAAsB;AACtB;AACA;;AAEA,uBAAsB;AACtB;AACA;;AAEA,yCAAwC;AACxC;AACA;;AAEA,yCAAwC;AACxC;AACA;;AAEA,yCAAwC;AACxC;AACA;;AAEA,yCAAwC;AACxC;AACA;;;;AAIA;;AAEA;;;;;;;AChDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap b2e1a72697015a590a66\n **/","\nconst Hero = require('./hero.js');\nconst handleInput = require('./handle_input.js');\nconst Monster = require('./monster.js');\n\n// Create the canvas\nvar canvas = document.createElement(\"canvas\");\ncanvas.width = 812;\ncanvas.height = 512;\ndocument.body.appendChild(canvas);\n\n// Grab a reference to the canvas 2D context\nvar ctx = canvas.getContext(\"2d\");\n// Create the canvas\n\n\n\nvar render = function () {\n\n\t// Draw a green background. Pretend it's grass\n\tctx.fillStyle = \"rgb(51, 118, 36)\";\n\tctx.fillRect(330, 0, canvas.width, canvas.height);\n\tctx.fillStyle = \"rgb(250, 250, 250)\";\n\tctx.fillRect(0,0, 330, 512);\n\n\t// Draw hero\n\tmoveable.forEach(moveable => {\n\t\tif (moveable.imageReady) {\n\n\t\t\t// Determine which part of the sprite sheet to draw from\n\n\n\t\t\t// Render image to canvas\n\t\t\tctx.drawImage(\n\t\t\t\tmoveable.image,\n\t\t\t\tmoveable.currentSprite(), 0, moveable.width, moveable.height,\n\t\t\t\tmoveable.pos[0], moveable.pos[1], moveable.width,\n\t\t\t\tmoveable.height\n\t\t\t);\n\n\n\t\t} else {\n\t\t\t// Image not ready. Draw a gray box\n\t\t\tctx.fillStyle = \"rgb(100, 100, 100)\";\n\t\t\tctx.fillRect(moveable.pos[0], moveable.pos[1],\n\t\t\t\tmoveable.width, moveable.height);\n\t\t}\n\n\t});\n\n\t// Score\n\tctx.fillStyle = \"rgb(0, 0, 0)\";\n\tctx.font = \"30px Arial\";\n\tctx.textAlign = \"left\";\n\tctx.textBaseline = \"top\";\n\tctx.fontColor = \"black\";\n\tctx.fillText(\"DEMO\", 10, 32);\n\tctx.fillText(\"arrow keys to move\", 10, 62);\n\tctx.fillText(\"spacebar: shakes ass\", 10, 92);\n\tctx.fillText(\"Monsters caught: \" + monstersCaught, 10, 132);\n\n};\n// Main game loop\nvar main = function () {\n\t// Calculate time since last frame\n\tvar now = Date.now();\n\tvar delta = (now - last);\n\tmoveable.forEach(moveable => moveable.update(delta));\n\n\thandleInput(hero, keysDown);\n\n\t// Render to the screen\n\tlast = now;\n\trender();\n\tif (\n\t\thero.pos[0] <= (monster.pos[0] + 32)\n\t\t&& monster.pos[0] <= (hero.pos[0] + 32)\n\t\t&& hero.pos[1] <= (monster.pos[1] + 32)\n\t\t&& monster.pos[1] <= (hero.pos[1] + 32)\n\t) {\n\t\t++monstersCaught;\n\t\tmonster.pos = [(Math.random()*(canvas.width - 312))+312,\n\t\t\t(Math.random()*(canvas.height)) ];\n\t}\n\t// setTimeout(() => (requestAnimationFrame(main)), 70);\n\n};\n\n// Start the main game loop!\nvar hero = new Hero({name: \"Johnny\", boardDimensions: [[332,0],[812,512]]});\nvar monster = new Monster({pos: [350,200],\n\tboardDimensions: [[332,0],[812,512]]});\n\nvar moveable = [];\nmoveable.push(hero);\nmoveable.push(monster);\nvar last = Date.now();\nvar keysDown = {};\nvar monstersCaught = 0;\naddEventListener(\"keydown\", function (e) {\n\tkeysDown[e.keyCode] = true;\n}, false);\n\naddEventListener(\"keyup\", function (e) {\n\tif (e.keyCode === 32) {\n\t\thero.directionVector = [0,0];\n\t\thero.updateDirection();\n\t\thero.shakeAssOff();\n\t}\n\tdelete keysDown[e.keyCode];\n}, false);\nsetInterval(main, 1);\n\n\n\n\n// var w = window;\n// requestAnimationFrame = w.webkitRequestAnimationFrame\n// || w.msRequestAnimationFrame || w.mozRequestAnimationFrame;\n// main();\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/game.js\n ** module id = 0\n ** module chunks = 0\n **/","const Moveable = require('./moveable.js');\n\nclass Hero extends Moveable {\n  constructor(obj) {\n    super(obj);\n    this.name = obj.name;\n    this.width = 32;\n    this.height = 32;\n    this.shakingAss = false;\n    this.speed = 200;\n    this.directionVector = [0,0];\n    this.animSet = 4;\n    this.animFrame = 0;\n    this.animNumFrames = 2;\n    this.animDelay = 200;\n    this.animTimer = 0;\n    this.imageReady = false;\n    this.image = new Image();\n    this.image.src = \"/Users/Eihcir0/Desktop/my_little_rpg/images/hero_sheet.png\";\n    this.image.onload = () => (this.imageReady = true);\n\n    this.posCenter();\n    this.updateDirection();\n  }\n}\n\nmodule.exports = Hero;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/hero.js\n ** module id = 1\n ** module chunks = 0\n **/","const MOVES = {\n  \"N\"    : [ 0,-1],\n  \"S\"    : [ 0, 1],\n  \"E\"    : [ 1, 0],\n  \"W\"    : [-1, 0],\n  \"NE\"   : [ 1,-1],\n  \"NW\"   : [-1,-1],\n  \"SE\"   : [ 1, 1],\n  \"SW\"   : [-1, 1],\n  \"STOP\" : [ 0, 0]\n};\n\nconst DIAGS = [\"NE\",\"NW\",\"SE\",\"SW\"];\n\nclass Moveable {\n  constructor(obj = {boardDimensions: [[332,0],[812,512]]}) {\n    this.boardDimensions = obj.boardDimensions;\n    this.boardWidth = this.boardDimensions[1][0] - this.boardDimensions[0][0];\n    this.boardHeight = this.boardDimensions[1][1] - this.boardDimensions[0][1];\n\n  }\n\n\n  posCenter() {\n    var xxx = Math.floor((this.boardDimensions[1][0] / 2)\n    + 166 - (this.width / 2));\n    var yyy = Math.floor((this.boardHeight / 2) - (this.width / 2));\n    this.pos = [xxx,yyy];\n  }\n\n  shakeAssOn() {\n    this.shakingAss = true;\n    this.directionVector = [0,0];\n  }\n\n  shakeAssOff() {\n    this.shakingAss = false;\n    this.directionVector = [0,0];\n    this.animSet = 4;\n  }\n\n\n  stop() {\n    this.directionVector = [0,0];\n  }\n\n  updateDirection() {\n    let x = this.directionVector[0];\n    let y = this.directionVector[1];\n    Object.keys(MOVES).forEach((key) => {\n      if (MOVES[key][0]===x && MOVES[key][1]===y) {\n        this.direction = key;\n      }\n    });\n\n  }\n\n  face(dir) {\n    this.directionVector = MOVES[dir];\n    this.updateDirection();\n    this.updateAnimSet();\n  }\n\n  currentSprite() {\n    return (\n      (this.animSet * (this.width * this.animNumFrames)) +\n      (this.animFrame * this.width)\n    );\n  }\n\n  updateAnimSet() {  //should refactor this with a const array\n    let d = this.direction;\n    if (d === \"N\") {\n      this.animSet = 0;\n    } else if (d === \"NE\") {\n      this.animSet = 1;\n    } else if (d === \"E\") {\n      this.animSet = 2;\n    } else if (d===\"SE\") {\n      this.animSet = 3;\n    } else if (d===\"S\" || d===\"STOP\") {\n      this.animSet = 4;\n    } else if (d===\"SW\") {\n      this.animSet = 5;\n    } else if (d===\"W\") {\n      this.animSet = 6;\n    } else if (d===\"NW\") {\n      this.animSet = 7;\n    }\n  }\n\n  update(elapsed) {\n    this.updateAnim(elapsed);\n    this.move(elapsed);\n\n  }\n\n  updateAnim(elapsed) {\n    this.updateDirection();\n    this.animTimer += elapsed;\n    if (this.animTimer >= this.animDelay) {\n      this.animTimer = 0;}\n    if (this.direction!==\"STOP\" || this.shakingAss) {\n          ++this.animFrame;\n\n        if (this.animFrame >= this.animNumFrames) {\n          this.animFrame = 0;\n        }\n      }\n    }\n\n\n\n  move(elapsed) {\n    let newPos = this.pos;\n    var move = (this.speed * (elapsed / 1000));\n    let speedFactor;\n\n    if (DIAGS.includes(this.direction)) { //reduce diag velocity\n      speedFactor = 0.75;\n    } else {\n      speedFactor=1;\n    }\n\n\n    newPos[0] += Math.round(move *  this.directionVector[0]);\n    newPos[1] += Math.round(move * speedFactor * this.directionVector[1]);\n\n    this.pos = newPos;\n    this.preventOutOfBounds();\n  }\n\n  preventOutOfBounds() {\n    let northern = this.boardDimensions[0][1];\n    let western = this.boardDimensions[0][0];\n    let southern = this.boardDimensions[1][1] - this.height;\n    let eastern = this.boardDimensions[1][0] - this.width;\n    this.pos[0] = Math.max(this.pos[0], western);\n    this.pos[0] = Math.min(this.pos[0], eastern);\n    this.pos[1] = Math.max(this.pos[1], northern);\n    this.pos[1] = Math.min(this.pos[1], southern);\n  }\n\n} //end class\n\nmodule.exports = Moveable;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/moveable.js\n ** module id = 2\n ** module chunks = 0\n **/","const handleInput = function (hero, keysDown) {\n\n\t// Stop moving the hero\n\thero.stop();\n\tif (hero.shakingAss) {hero.face(\"N\");}\n\n\n\tif (37 in keysDown) { // Left\n\t\thero.face(\"W\");\n\t}\n\n\tif (38 in keysDown) { // Up\n\t\thero.face(\"N\");\n\t}\n\n\tif (32 in keysDown) { // space\n    hero.shakeAssOn();\n\n\t}\n\n\tif (39 in keysDown) { // Right\n\t\thero.face(\"E\");\n\t}\n\n\tif (40 in keysDown) { // Down\n\t\thero.face(\"S\");\n\t}\n\n\tif (38 in keysDown && 39 in keysDown) { // Up/Right\n\t\thero.face(\"NE\");\n\t}\n\n\tif (38 in keysDown && 37 in keysDown) { // Up/Left\n\t\thero.face(\"NW\");\n\t}\n\n\tif (40 in keysDown && 39 in keysDown) { // Down/Right\n\t\thero.face(\"SE\");\n\t}\n\n\tif (40 in keysDown && 37 in keysDown) { // Down/Left\n\t\thero.face(\"SW\");\n\t}\n\n\n\n};\n\nmodule.exports = handleInput;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/handle_input.js\n ** module id = 3\n ** module chunks = 0\n **/","const Moveable = require('./moveable.js');\n\nclass Monster extends Moveable {\n  constructor(obj) {\n    super(obj);\n    this.width = 32;\n    this.height = 32;\n    this.shakingAss = false;\n    this.pos = obj.pos;\n    this.speed = 0;\n    this.directionVector = [0,0];\n    this.animSet = 0;\n    this.animFrame = 0;\n    this.animNumFrames = 1;\n    this.animDelay = 0;\n    this.animTimer = 0;\n    this.imageReady = false;\n    this.image = new Image();\n    this.image.src = \"/Users/Eihcir0/Desktop/my_little_rpg/images/monster.png\";\n    this.image.onload = () => (this.imageReady = true);\n\n  }\n}\n\nmodule.exports = Monster;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/monster.js\n ** module id = 4\n ** module chunks = 0\n **/"],"sourceRoot":""}